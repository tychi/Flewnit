<!-- -->

<flewnitGlobalConfig>

  <!-- convention: lower case names for everythin but proper names and class
		names
    -->

  <generalSettings>

    <doValidateSimulationStepResults type="BOOL" value="false" />
    <doProfileAndOptimizeSettings type="BOOL" value="false" />
    <doProfilePerformance type="BOOL" value="false" />

    <doDebugDraw type="BOOL" value="true" />
    
    
    <!-- this flag determines if the OpenCL programs shall be built in the way that it makes implicitely
          heavy usage of the Fermi-architecture's L1-cache feature and this way saves buffering to local memory
          and, most important work group synchronization;
    -->
    <useCacheUsingOpenCLImplementation type="BOOL" value="false" GUIVisibility="read/write" tweakConfigString="TODO"/>


    <!--
		<pathToData type="STRING" value="." />
		<simulationPipelineConfig
			type="STRING"
      value="SimulationPipeLineConfig.xml"/>
		<sceneAnnotationsFile
			type="STRING"
      value="LakeSceneAnnotations.xml" />
		<disableMemoryTrackingLogging
			type="BOOL"
      value="true"/>
		-->

  </generalSettings>

  <scenes>

    <scenesGlobalSettings>
      <tesselateMeshesWithDisplacementMap type="BOOL" value="true" />

      <environmentMap type="STRING" value="./assets/textures/cubeMaps/evening.jpg"/>

      <referenceCountThresholdForInstancedRendering type="INT" value="8" />
    </scenesGlobalSettings>

    <Scene>
      <Type type="STRING" value="HardCodedScene"/>

      <SceneNode>
        <Type type="STRING" value="PURE_NODE"/>
        <name type="STRING" value="hardCodedSceneRootNode" />

        <position type="VEC3" x="-75.0" y="0.0" z="-0.0" />
        <direction type="VEC3" x="0.0" y="0.0" z="-1.0" />
        <up type="VEC3" x="0.0" y="1.0" z="0.0" />
        <scale type="FLOAT" value="1.0"/>
      </SceneNode>

    </Scene>

    <Scene>
      <Type type="STRING" value="SceneFile"/>
      <sceneFile type="STRING" value="./assets/blendfiles/raptor/raptor_11k_FacesNormalDisp_NoPackedTextures.blend"/>

      <SceneNode>
        <Type type="STRING" value="PURE_NODE"/>
        <name type="STRING" value="blendFileSceneRootNode" />
        <position type="VEC3" x="0.0" y="-15.0" z="-70.0" />
        <direction type="VEC3" x="0.0" y="-1.0" z="0.0" />
        <up type="VEC3" x="0.0" y="0.0" z="-1.0" />
        <scale type="FLOAT" value="1."/>
      </SceneNode>

    </Scene>


  </scenes>


  <UI_Settings>

    <windowSettings>

      <mediaLayer type="STRING" value="GLFW" />

      <windowTitle type="STRING" value="Flewnit" />

      <fullScreen type="BOOL" value="false"/>

      <enforceCustomResolutionInFullScreen type="BOOL" value="false" />
    
      <!--
      <resolution type="VEC2I" x="1366" y="768" GUIVisibility="read" tweakConfigString="TODO"/>
      -->
      <resolution type="VEC2I" x="640" y="480" GUIVisibility="read" tweakConfigString="TODO"/>
      
      <position type="VEC2I" x="400" y="100" GUIVisibility="read" tweakConfigString="TODO"/>

      <numMultiSamples type="INT" value ="4" />

    </windowSettings>


    <OpenGL_Settings>
      <contextVersion type="VEC2I" x="3" y="3" />
      <enforceCoreProfile type="BOOL" value="true" />
    </OpenGL_Settings>

    <OpenCL_Settings>
      <contextVersion type="VEC2I" x="1" y="0" />
      <deviceType type="STRING" value="GPU" />
    </OpenCL_Settings>

    <inputSettings>
      <grabMouse type="BOOL" value="false" />
      <enableWiimote type="BOOL" value="false" />
    </inputSettings>


    <!-- maybe GUI config to come... -->

  </UI_Settings>



  <simulators>
    <!--  -->

<!-- TODO REENTER HERE STUFF-->

    <Simulator>
      <Type type="STRING" value="LightingSimulator"/>

      <generalSettings>
        <Camera>
          <position type="VEC3" x="0.0" y="0.0" z="10.0" />
          <direction type="VEC3" x="0.0" y="0.0" z="-1.0" />
          <up type="VEC3" x="0.0" y="1.0" z="0.0" />
          <openingAngleVerticalDegrees type="FLOAT" value="45.0"/>
          <movementSpeed type="FLOAT" value="0.5"/>
        </Camera>

        <polygonMode type="STRING" value="FILL"/>

        <supportedShadingFeatures>
          <directLighting type="BOOL" value="true"/>
          <diffuseTexturing type="BOOL" value="true"/>
          <normalMapping type="BOOL" value="true"/>
          <cubeMapping type="BOOL" value="true"/>
          <tessellation type="BOOL" value="false"/>
        </supportedShadingFeatures>


        <GlobalShadingFeatures>

          <!-- -->
          <lightSourcesLightingFeature type="STRING" value="LIGHT_SOURCES_LIGHTING_FEATURE_ALL_SPOT_LIGHTS"/>
          <lightSourcesShadowFeature type="STRING" value="LIGHT_SOURCES_SHADOW_FEATURE_ONE_SPOT_LIGHT"/>
          <shadowTechnique type="STRING" value="SHADOW_TECHNIQUE_DEFAULT"/>
          <!-- -->

          <!-- - ->
					<lightSourcesLightingFeature type="STRING" value="LIGHT_SOURCES_LIGHTING_FEATURE_ALL_POINT_OR_SPOT_LIGHTS"/>
					<lightSourcesShadowFeature
						type="STRING"
            value="LIGHT_SOURCES_SHADOW_FEATURE_NONE"/>
					<shadowTechnique
						type="STRING"
            value="SHADOW_TECHNIQUE_NONE"/>
					<!- - -->

          <numMaxLightSources type="INT" value="5"/>
          <numMaxShadowCasters type="INT" value="1"/>
          <numMaxInstancesRenderable type="INT" value="300"/>
          <GBufferType type="STRING" value="TEXTURE_TYPE_2D_RECT"/>

          <shaderCodeDirectory type="STRING" value="./src/MPP/Shader/ShaderSources/"
						/>
        </GlobalShadingFeatures>

      </generalSettings>


      <!--
			<SimulationPipelineStage>
				<Type type="STRING" value="SkyBoxRenderer"/>
				
				<cubeMapName
				type="STRING"
        value="cloudy_noon" />
				<cubeMapFileEnding type="STRING"
				value="jpg"
        />

			</SimulationPipelineStage>
			-->

      <!-- -->
      <SimulationPipelineStage>
        <Type type="STRING" value="ShadowMapGenerator"/>
        <shadowMapResolution type="INT" value="4096" />
        <polygonOffset type="VEC2" x="2.5" y="5.8"/>
      </SimulationPipelineStage>
      <!-- -->

      <SimulationPipelineStage>
        <Type type="STRING" value="DefaultLightingStage"/>

        <renderToScreen type="STRING" value="true" />
        <!-- indicator not to render to the main FBO -->

      </SimulationPipelineStage>



      <!-- Fluid rendering specific stages to go -->

    </Simulator>


  </simulators>




</flewnitGlobalConfig>
