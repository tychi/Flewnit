
\label{sec:systemArchitecture}

\subsection{Entwicklungsumgebung}

	Linux, CMake, git, Eclipse ; 
	gründe für auswahl:
		linux:  paketmanager für dependencies, unzufriedenheit mit microsofts stiefmütterlicher Behandlung von 64bit-		
			programmen, nicht zuletzt wunsch nach Vertiefung der kenntnisse der linux-welt
	
	cross platform build system, moderne versionsverwaltung, 	
 

\subsection{Klassendiagramm}

\subsection{Dependencies}
	\label{sec:dependencies}

		
	\subsubsection{OpenGL3/4}
	
	- verwendung von mindestens OpenGL 3/3 core context, um legacy code schon zur compilezeit auszuschließen
    \subsubsection{OpenCL 1.0}
    	noch keine offenen openCL 1.1 treiber, außerdem keine features davon benötigt;
    	c++-wrapper genutzt, auch von khronos-seiten beziehbar;
    	Gegenüberstellung zu CUDA, vor- und nachteile auflisten, insbesondere das problem ,dass esk ein 1D-texturen in OpenCL gibt, und man sich entscheiden muss zwischen generischem buffer und Textur, man also nicht hin und her-interpretieren kann wie in CUDA;
    \subsubsection{GLFW}
    	Fenstermanager + input
    	explizite GL3 core profile creation, einfaches fullscreen, multisampling, keine mainloop, explizites input pulling, 
    	mouse grab, alles viel besser als GLUT :)
    \subsubsection{Grantlee}
       die string template engine die CL und GL code erzeugt
    \subsubsection{assimp}
    \subsubsection{ogl math}
    	leichte, aber doch recht maechtige mathe-bibliothek
    \subsubsection{TinyXML}
    	
    	
\subsection{Die \emph{Unified Rendering Engine}}
URE blubb

\subsection{Die Simulator-Klassen}

\subsection{Die SimulationPipelineStages}
	shdow map gen, direct lighting, rendering features particlemechanics stage;
	in planung: deferred rendering G-Bufferfill, deferred rendering shade, div. post processing stages

\subsection{Die Manager-Klassen}
blubb2
\todo[color=green]{evtl. andere reihenfolge}

\subsection{Die Template-Engine}
	\label{sec:architecture:templateEngine}
	exemplarischer code schnipsel, refernz su shadermanager und CLProgramManager, erklärung wie man templat contex setzt, 	
	vererbung etc;
    	
\subsection{Die Buffer-Abstraktion}   	
 	die bombe, die cpu, ogl und ocl vereint, inclusive ping ponging etc.. fundamentale Klassensammlung fuer den Unified-Aspekt
 
\subsection{Das WorldObject}
	Basis-Klasse fuer alles was unified simuliert wird: pure viuelle objekt, uniform grid, fluid, rigid body etc..
	
	\subsubsection{Das SubObject}
  
 
\subsection{Material}  
	was stellt welches material in welcher Domain dar?
	
\subsection{Geometry}
	Abtract, Buffer based, Vertex based etc.. ein paar konzepte (implementiert/genutzt nur VertexBased)  
	
\subsection{Massively Parallel Program}
	Basisklasse von Shader und OpenCL Program
	\subsubsection{Shader}
		
	\subsubsection{OpenCLProgram}

weitere klassen/konzepte to go...	


\subsection{Status der Implementierung am Ende der BA}
	
	Features auflisten;
	\todo[color=green]{screenshots? oder lieber erst später,zusammen mit detaillierter erläuterung?}

	großteils programmierte, aber ungenutzte/ungetestete features erwähnen (Deferred Rendering, Layered Rendering, 	
	RenderTarget-Klasse, Partikel-Rigid bodies, verschiedene Fluid-Typen); 


	überlegte aber nciht programmierte Konzepte/Algorithmen erwähnen (Triangle-Index-Voxelisierung)
	
	schlimmste schnitzer nennen, wie
		- miese fluid-visualisierung, 
		- unübersichtliche shadertemplates, besser gemacht bei CL-
			Kernel-Templates, 1. weil struktur hier besser "vererbbar", 2. weil mehr erfahrung mit  Template-Engine
	
	  	
  	

\clearpage
